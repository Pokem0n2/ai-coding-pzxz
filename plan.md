# 桌游辅助服务器 - 关键要点

## 项目结构
- **server.js**: Express服务器，监听3080端口，提供静态文件服务和WebSocket支持
- **index.html**: 身份选择页面，用于分配上帝和玩家身份
- **setup.html**: 上帝设置页面，用于设置游戏参数
- **wait.html**: 玩家等待页面，显示等待房间创建
- **room.html**: 游戏房间页面，分为上帝版本和玩家版本
- **game.html**: 游戏中页面，显示游戏状态
- **package.json**: 项目配置文件，包含依赖信息
- **progress.md**: 已实现功能记录
- **plan.md**: 项目计划和后续扩展考虑

## 功能实现

### 身份选择页面 (index.html)
- **访问地址**: http://localhost:3080/index.html
- **布局**: 竖屏手机响应式布局
- **功能**: 
  - 身份选择："我是上帝"和"我是玩家"按钮
  - 身份标记：选择后存储身份标记到localStorage
  - 页面跳转：选择"我是上帝"跳转到god.html，选择"我是玩家"跳转到wait.html

### 等待页面 (wait.html)
- **访问地址**: http://localhost:3080/wait.html
- **布局**: 竖屏手机响应式布局
- **功能**: 
  - 显示"等待房间创建"提示
  - 轮询检查房间状态，房间创建后自动跳转到room.html

### 上帝设置页面 (setup.html)
- **访问地址**: http://localhost:3080/setup.html
- **布局**: 竖屏手机响应式布局
- **功能**: 
  - 游戏模式选择：普通模式和里世界模式，默认普通模式
  - 玩家数量选择：
    - 普通模式：5-10人，默认7人
    - 里世界模式：8-10人
  - 确认按钮：点击后存储游戏配置并跳转到room.html

### 游戏房间页面 (room.html)
- **访问地址**: http://localhost:3080/room.html
- **布局**: 竖屏手机响应式布局
- **功能**: 
  - 玩家版本：
    - 左上角显示"编号：待定"
    - 昵称输入框和确认按钮
    - 点击确认后分配编号并加入房间
  - 上帝版本：
    - 左上角显示"模式：mode"
    - 右上角显示"count/total"
    - 实时显示玩家加入列表
    - 开始游戏按钮：当房间人数满员时，点击后所有人跳转到game.html

### 游戏中页面 (game.html)
- **访问地址**: http://localhost:3080/game.html
- **布局**: 竖屏手机响应式布局
- **功能**: 
  - 显示游戏状态
  - 等待上帝指示
  - 接收游戏中的实时消息

### WebSocket服务
- **功能**: 
  - 实时通信：玩家加入通知、房间状态更新、游戏开始通知
  - 房间管理：创建房间、玩家加入、状态同步
  - 消息广播：向所有客户端推送消息

### 技术栈
- **后端**: Node.js + Express
- **前端**: HTML + CSS + JavaScript
- **端口**: 3080

## 后续扩展考虑
1. **玩家端页面**:
   - 玩家信息展示
   - 手牌管理
   - 技能使用

2. **数据推送**:
   - 实时更新玩家状态
   - 游戏事件通知

3. **交互功能**:
   - 抽卡功能
   - 交换手牌
   - 技能触发

4. **统计功能**:
   - 投票系统
   - 游戏数据统计

5. **UI优化**:
   - 适配不同手机屏幕
   - 美观的视觉设计
   - 流畅的动画效果

6. **数据持久化**:
   - 游戏配置保存
   - 游戏记录存储

## 注意事项
- 所有页面均为竖屏手机页面
- 需考虑响应式布局，适配苹果和安卓手机
- 后续功能扩展需保持代码结构清晰
- 确保服务器稳定运行，支持多用户同时访问
